<div id="controls">
  <div class="settings left">
    <button matIconButton
            (click)="toggleShowPages()"
            matTooltip="{{showPagesTooltip()}}"
            [matTooltipPosition]="'above'"
            [matTooltipShowDelay]="750"
            [matTooltipHideDelay]="100">
      @if (showPages()) {
        <mat-icon>subject</mat-icon>
      } @else {
        <mat-icon class="flip-horizontal">vertical_split</mat-icon>
      }
    </button>
    <button matIconButton (click)="toggleSync()" [class]="{'active': syncCurrentSection()}">
      <mat-icon>sync_arrow_down</mat-icon>
    </button>
  </div>
  <div class="main-controls">
<!--    <button matIconButton (click)="previous($event)">-->
<!--      <mat-icon>skip_previous</mat-icon>-->
<!--    </button>-->
<!--    <button matIconButton (click)="replay($event)">-->
<!--      <mat-icon>replay_5</mat-icon>-->
<!--    </button>-->
    <button matIconButton class="play-pause" (click)="playPause($event)">
      @if ($isPlaying | async) {
        <mat-icon>pause</mat-icon>
      } @else {
        <mat-icon>play_arrow</mat-icon>
      }
    </button>
<!--    <button matIconButton (click)="forward($event)">-->
<!--      <mat-icon>forward_5</mat-icon>-->
<!--    </button>-->
<!--    <button matIconButton (click)="next($event)">-->
<!--      <mat-icon>skip_next</mat-icon>-->
<!--    </button>-->
  </div>
  <div class="settings right">
    <button matIconButton (click)="toggleFontSize($event)">
      <mat-icon>format_size</mat-icon>
    </button>
    <button class="playbackSpeed" matIconButton (click)="clickPlaybackRate($event)" (dblclick)="dblclickPlaybackRate($event)">
      <span>x{{ ($playbackRate | async | number : '1.1-2') }}</span>
    </button>
  </div>

</div>

<div class="progress">
  <div class="slider">
    <div class="now" [style]="{ width: ($nowPercent | async) + '%' }"></div>
    <div class="available" [style]="{ width: ($availablePercent | async) + '%' }"></div>
    <div class="queued"></div>
    <div class="unavailable" [style]="{ width: ($unavailablePercent | async) + '%' }"></div>
  </div>
  <div class="times">
    <div class="current-progress">{{ $nowTime | async }}</div>
    <div class="remaining-progress">{{ $remainingTime | async }}</div>
  </div>
</div>
